@import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@300;400;500;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@600;700&family=Zen+Maru+Gothic:wght@400&display=swap');

/* ========================================
   A2ポスター印刷用スタイル
   ======================================== */

/* ========================================
   CSS変数定義
   ======================================== */
:root {
  /* ========== レイアウトサイズ ========== */
  --poster-width: 594mm;
  --poster-height: 420mm;
  --poster-padding: 12mm;
  --header-height: 30mm;
  --cell-height: 11.48mm;

  /* ========== 用紙定義（A1/A4）
    明示的に定義しておくと由来が分かりやすく、calcで再利用できます */
  --a1-width: 841mm; /* A1 幅 */
  --a1-height: 594mm; /* A1 高さ */
  --a1-col-width: calc(var(--a1-width) / 4); /* 841mm / 4 = 210.25mm */
  --a1-row-height: calc(var(--a1-height) / 2); /* 594mm / 2 = 297mm */

  --a4-width: 210mm; /* A4 幅（参照用: A1の分割と同じではない） */
  --a4-height: 297mm; /* A4 高さ */

  /* ========== ボーダー設定 ========== */
  --border-width: 0.3mm;
  --border-width-thick: 0.5mm;

  /* ========== 計算済みの値 ========== */
  --title-box-height: calc(var(--cell-height) - var(--border-width) + 0.02mm);

  /* ========== フォントサイズ ========== */
  --font-size-category: 3.5mm; /* 9pt相当 */
  --font-size-header: 2.8mm; /* 8pt相当 */
  --font-size-body: 2.8mm; /* 8pt相当 */
  --font-size-small: 2.5mm; /* 7pt相当 */

  /* ========== カラーパレット ========== */
  --color-primary: #333333;
  --color-secondary: #555;
  --color-muted: #666;
  --color-light: #999;
  --color-border: #ccc;

  /* 背景色 */
  --color-bg-white: #fff;
  --color-bg-header: #f5f5f5;
  --color-bg-cell: #f5f5f5;

  /* ========== テーマカラー ========== */

  /* ピンクテーマ */
  --theme-pink-primary: rgb(233, 30, 99);
  --theme-pink-light: rgb(244, 143, 177); /* Contrast 3:1 */
  --theme-pink-dark: rgb(173, 20, 87);

  /* グリーンテーマ */
  --theme-green-primary: rgb(76, 175, 80);
  --theme-green-light: rgb(102, 187, 106); /* Contrast 3.5:1 */
  --theme-green-dark: rgb(56, 142, 60);

  /* ブルーテーマ */
  --theme-blue-primary: rgb(33, 150, 243);
  --theme-blue-light: rgb(66, 165, 245); /* Contrast 3.2:1 */
  --theme-blue-dark: rgb(25, 118, 210);

  /* パープルテーマ */
  --theme-purple-primary: rgb(156, 39, 176);
  --theme-purple-light: rgb(186, 104, 200); /* Contrast 3.5:1 */
  --theme-purple-dark: rgb(123, 31, 162);

  /* ========== フォントファミリー ========== */
  --font-english: 'Noto Sans';
  --font-japanese: 'Noto Sans';
}

/* ========== テーマクラス ========== */
/* CSS変数でテーマ色を設定 */
.themePink {
  --current-theme-linkno-bg: #ffc0cb;
  --current-theme-primary: var(--theme-pink-primary);
  --current-theme-light: var(--theme-pink-light);
  --current-theme-dark: var(--theme-pink-dark);
  --current-theme-bg: #fdf2f6;
}

.themeGreen {
  --current-theme-linkno-bg: #b2e5b2;
  --current-theme-primary: var(--theme-green-primary);
  --current-theme-light: var(--theme-green-light);
  --current-theme-dark: var(--theme-green-dark);
  --current-theme-bg: #f2fbf2;
}

.themeBlue {
  --current-theme-linkno-bg: #b2d6ff;
  --current-theme-primary: var(--theme-blue-primary);
  --current-theme-light: var(--theme-blue-light);
  --current-theme-dark: var(--theme-blue-dark);
  --current-theme-bg: #f2f8fd;
}

.themePurple {
  --current-theme-linkno-bg: #e0b2ff;
  --current-theme-primary: var(--theme-purple-primary);
  --current-theme-light: var(--theme-purple-light);
  --current-theme-dark: var(--theme-purple-dark);
  --current-theme-bg: #f9f2fd;
}

/* ========================================
   基本コンポーネント
   ======================================== */

/* テキストスタイル */
.englishText {
  font-size: var(--font-size-category);
  font-weight: bold;
  color: var(--color-primary);
  text-align: center;
  font-family: var(--font-english);
}

.japaneseTranslation {
  font-size: 2.5mm;
  margin-bottom: 0.5mm;
  font-weight: normal;
  color: var(--color-muted);
  font-family: var(--font-japanese);
  vertical-align: baseline;
}

.japaneseText {
  font-size: var(--font-size-small);
  color: var(--color-secondary);
  margin-top: 0.3mm;
  font-family: var(--font-japanese);
}

/* ========================================
   レイアウトコンポーネント
   ======================================== */

.pronounPair {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* ========================================
   テーブルスタイル
   ======================================== */

.matrixTable {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--color-bg-white);
  border: var(--border-width) solid var(--color-border);
  overflow: hidden;
  table-layout: fixed;
  margin: 0;
  box-sizing: border-box;
}

/* 共通ヘッダースタイル（個別差分は各クラスで追加） */
.matrixTableTh,
.irregularVerbMatrixTableTh,
.auxiliaryVerbMatrixTableTh,
.comparativeAndSuperlativeMatrixTableTh {
  color: var(--color-primary);
  text-align: center;
  font-size: var(--font-size-header);
  font-weight: bold;
  border: var(--border-width) solid var(--color-border);
  background-color: var(--color-bg-header);
  box-sizing: border-box;
  margin: 0;
}

/* matrixTable のみ高さ固定 */
.matrixTableTh {
  height: var(--cell-height);
  min-height: var(--cell-height);
  max-height: var(--cell-height);
}

/* 各マトリクスのセル共通 */
.irregularVerbMatrixTableThCell,
.auxiliaryVerbMatrixTableThCell,
.comparativeAndSuperlativeMatrixTableThCell {
  text-align: center;
  border: var(--border-width) solid var(--color-border);
  vertical-align: middle;
  box-sizing: border-box;
  margin: 0;
}

/* 英語テキスト共通（サイズ・ウエイト・フォント） */
.irregularVerbEnglishText,
.auxiliaryVerbEnglishText,
.comparativeAndSuperlativeEnglishText {
  font-size: 3.5mm;
  font-weight: bold;
  color: var(--color-primary);
  text-align: center;
  font-family: var(--font-english);
}

/* 日本語テキスト共通 */
.irregularVerbJapaneseText,
.auxiliaryVerbJapaneseText,
.comparativeAndSuperlativeJapaneseText {
  font-size: 3mm;
  color: var(--color-primary);
  text-align: center;
  font-family: var(--font-japanese);
}

/* ========================================
   特殊テーブルスタイル
   ======================================== */

/* ========== 不規則動詞マトリクステーブル ========== */
.irregularVerbMatrixTableThMeaning {
  width: 60mm;
}

/* ========== 動詞活用の行間設定 ========== */
.lightHeightAAAandABA {
  line-height: 0;
  height: 8.39mm;
  max-height: 8.39mm;
  min-height: 8.39mm;
}

.lightHeightABB {
  line-height: 0;
  height: 7.1331mm;
  max-height: 7.1331mm;
  min-height: 7.1331mm;
}

.lightHeightABC {
  line-height: 0;
  height: 7.2393mm;
  max-height: 7.2393mm;
  min-height: 7.2393mm;
}

/* ========== 助動詞マトリクステーブル ========== */
.auxiliaryVerbMatrixTableTh {
  line-height: 7.1mm;
}

.auxiliaryVerbMatrixTableThWidth1 {
  width: 50mm;
}
.auxiliaryVerbMatrixTableThWidth2 {
  width: 75mm;
}

.auxiliaryVerbExampleList {
  list-style: none;
  padding: 1.04mm 2mm;
  text-align: left;
}

.auxiliaryVerbExampleItem {
  text-align: left;
}

.auxiliaryVerbExampleEnglishText {
  font-size: 2.95mm;
  color: var(--color-primary);
  font-family: var(--font-japanese);
  margin: 0;
}

.auxiliaryVerbExampleJapaneseText {
  font-size: 2.497mm;
  color: var(--color-secondary);
  font-family: var(--font-japanese);
  margin: 0;
}

.auxiliaryMargin {
  margin-top: 3.85mm;
}

/* ========== 最上級・比較級マトリクステーブル ========== */
.comparativeAndSuperlativeLineHeight {
  height: 7.382mm;
  max-height: 7.382mm;
  min-height: 7.382mm;
}

.comparativeAndSuperlativeExampleList {
  list-style: none;
  padding: 1mm 2mm;
  text-align: left;
}

.comparativeAndSuperlativeExampleItem {
  text-align: left;
}

.comparativeAndSuperlativeExampleEnglishText {
  font-size: 3mm;
  color: var(--color-primary);
  font-family: var(--font-japanese);
  margin: 0;
}

.comparativeAndSuperlativeExampleJapaneseText {
  font-size: 2.497mm;
  color: var(--color-secondary);
  font-family: var(--font-japanese);
  margin: 0;
}

/* ========================================
   ユーティリティスタイル
   ======================================== */

/* ========== 注釈・補足 ========== */
.remark {
  height: 3.8mm;
  font-size: 3mm;
  color: var(--color-secondary);
  font-family: var(--font-japanese);
}

/* ========== 代名詞マトリクステーブル特殊レイアウト ========== */
.indefinitePronounMatrix {
  table-layout: auto;
}

.indefinitePronounMatrix th:first-child,
.indefinitePronounMatrix td:first-child {
  width: 8.09%;

  white-space: nowrap;
}

.indefinitePronounMatrix th:not(:first-child),
.indefinitePronounMatrix td:not(:first-child) {
  width: calc((100% - 15%) / 3);
}

.pronounMatrixOptimized {
  table-layout: fixed;
}

.pronounMatrixOptimized th:first-child,
.pronounMatrixOptimized td:first-child {
  width: 6%;
}

.pronounMatrixOptimized th:nth-child(2),
.pronounMatrixOptimized td:nth-child(2) {
  width: 6%;
}

.pronounMatrixOptimized th:nth-child(n + 3),
.pronounMatrixOptimized td:nth-child(n + 3) {
  width: calc((100% - 16%) / 5);
}

/* ========== テーブルセル汎用スタイル ========== */
.matrixSection {
  display: flex;
  flex-direction: column;
}

/* sideCell/sideCellNarrow 共通 */
.sideCell,
.sideCellNarrow {
  height: var(--cell-height);
  min-height: var(--cell-height);
  max-height: var(--cell-height);
  text-align: center;
  font-weight: bold;
  color: var(--color-primary);
  border: var(--border-width) solid var(--color-border);
  vertical-align: middle;
  background-color: var(--color-bg-cell);
  box-sizing: border-box;
  margin: 0;
}

.sideCellNarrow {
  font-size: var(--font-size-header);
  padding: 1mm;
}

.sideCell {
  font-size: var(--font-size-body);
}

/* cell/verbFormCell 共通 */
.cell,
.verbFormCell {
  text-align: center;
  border: var(--border-width) solid var(--color-border);
  vertical-align: middle;
  box-sizing: border-box;
  margin: 0;
  position: relative;
  background: none;
}

.cell {
  height: var(--cell-height);
  min-height: var(--cell-height);
  max-height: var(--cell-height);
}

.verbFormCell {
  height: 16mm;
  min-height: 16mm;
  max-height: 16mm;
}

.linkNo {
  position: absolute;
  top: 0;
  right: 0;
  font-family: var(--font-japanese);
  font-size: 2.2mm;
  height: 3.3mm;
  background-color: var(--current-theme-linkno-bg);
  padding-left: 1mm;
  padding-right: 1mm;
  border-radius: 0 0 0mm 0.5mm;
  font-weight: bold;
  color: white; /* 二重指定を整理（見た目は同じ） */
}

/* ========================================
   ポスターレイアウト
   ======================================== */

.posterHeader {
  display: flex;
  align-items: center;
  justify-content: center;
  height: var(--header-height);
  border-bottom: var(--border-width-thick) solid var(--color-light);
  box-sizing: border-box;
}

/* ========================================
   コンテンツレイアウト
   ======================================== */

.posterContent {
  display: flex;
  justify-content: flex-start; /* space-betweenから変更 */
  align-items: flex-start;
  overflow-x: auto; /* 横スクロールを有効化 */
  min-width: fit-content;
}

.column {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.categoryTitleBox {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  height: var(--title-box-height);
  min-height: var(--title-box-height);
  max-height: var(--title-box-height);
  box-sizing: border-box;
}

.categoryTitleBorder {
  font-family: 'Zen Maru Gothic';
  /* レイアウト */
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  /* テキスト */
  font-size: 4mm;
  font-weight: bold;
  color: var(--current-theme-primary);
  width: 100%;
  border-bottom: var(--border-width) solid var(--color-border);
  box-sizing: border-box;
}

.categoryTitleNo {
  font-family: 'Zen Maru Gothic';
  font-size: 5mm;
  font-weight: bold;
  color: gray;
}

.categoryTitle {
  font-family: 'Zen Maru Gothic';
  font-size: 4mm;
  font-weight: bold;
  color: var(--current-theme-primary);
}

/* ========================================
   ナビゲーション用スタイル
   ======================================== */

@media print {
  @page {
    size: A1 landscape;
    margin: 0;
  }
}

/* ========== A1ポスター ========== */
.a1Poster {
  position: relative;
  min-width: calc(var(--a1-width) + 6mm);
  max-width: calc(var(--a1-width) + 6mm);
  width: calc(var(--a1-width) + 6mm);
  height: calc(var(--a1-height) + 6mm);
  min-height: calc(var(--a1-height) + 6mm);
  max-height: calc(var(--a1-height) + 6mm);
  box-sizing: border-box;
  background: var(--current-theme-bg, white);
  margin: auto;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  gap: 5mm;
  padding: 3mm;
}

.a1GridContainer {
  display: grid;
  grid-template-columns: repeat(4, var(--a1-col-width)); /* A1幅を4分割した列幅（210.25mm） */
  grid-template-rows: repeat(2, var(--a1-row-height)); /* A1高さを2分割した行高（297mm） */
  width: 100%;
  height: 100%;
}

.a4Cell {
  width: var(--a1-col-width);
  min-width: var(--a1-col-width);
  max-width: var(--a1-col-width);
  height: var(--a4-height);
  max-height: var(--a4-height);
  min-height: var(--a4-height);
  box-sizing: border-box;
  padding: 5mm 5mm 0mm 5mm;
  position: relative;
  /* border: solid 0.1mm var(--color-border); */
}

.footer {
  height: 7.3mm;
  min-height: 7.3mm;
  max-height: 7.3mm;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.footerText {
  font-size: 2.5mm;
  color: #adabab;
  font-family: 'Nunito', 'Zen Maru Gothic';
  font-weight: 700;
  font-kerning: normal;
}

/* 4隅に短い線（チョン）を出す：明示的なdiv配置 */
.corner {
  position: absolute;
  width: 0.3mm;
  height: 0.4mm;
  background: #e7e7e7;
  z-index: 1;
}
.topLeft {
  top: 0;
  left: 0;
}
.topRight {
  top: 0;
  right: 0;
}
.bottomLeft {
  bottom: 0;
  left: 0;
}
.bottomRight {
  bottom: 0;
  right: 0;
}

/* ========== A1タイトル・アイコン ========== */
.a1TitleBox {
  height: 9mm;
  padding-bottom: 2.2mm;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 0.5mm dashed var(--current-theme-light);
}

.iconMm20 {
  width: 5.5mm;
  height: 5.5mm;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5mm;
  margin-right: 2mm;
  color: gray;
}

.a1TitleFont {
  line-height: 0;
  font-size: 7.5mm;
  font-weight: bold;
  font-family: 'Zen Maru Gothic';
  color: var(--current-theme-dark);
}

.a1PagesFont {
  line-height: 0;
  font-size: 6mm;
  font-family: 'Zen Maru Gothic';
  margin-bottom: -3mm;
  color: var(--current-theme-dark);
}

/* A4印刷ページ専用スタイル */

.printPage {
  padding: 0;
  margin: 0;
}

/* A4ポスターコンテナ */
.a4Container {
  display: flex;
  flex-direction: column;
  width: 210.25mm;
  min-width: 210.25mm;
  max-width: 210.25mm;
}

.a4PrintWrapper {
  background: var(--current-theme-bg, white);
}
